import{_ as a,o as n,c as s,ag as i}from"./chunks/framework.DEqXEGcv.js";const u=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"3 问题记录/未定义的虚表引用.md","filePath":"3 问题记录/未定义的虚表引用.md","lastUpdated":1770889489000}'),l={name:"3 问题记录/未定义的虚表引用.md"};function r(p,e,t,c,d,o){return n(),s("div",null,[...e[0]||(e[0]=[i(`<h2 id="编译报错" tabindex="-1">编译报错 <a class="header-anchor" href="#编译报错" aria-label="Permalink to &quot;编译报错&quot;">​</a></h2> <p>错误信息：</p> <p><img src="https://blog-1312962011.cos.ap-nanjing.myqcloud.com/imgs/20231009182022.png" alt="image.png" loading="lazy"></p> <div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[build] /usr/bin/ld: core/framework/exception-server/CMakeFiles/ExceptionServer.dir/src/handler_manager.cpp.o: in function \`exception::MetricMsgHandler::MetricMsgHandler()&#39;:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[build] handler_manager.cpp:(.text._ZN9exception16MetricMsgHandlerC2Ev[_ZN9exception16MetricMsgHandlerC5Ev]+0x1f): undefined reference to \`vtable for exception::MetricMsgHandler&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[build] /usr/bin/ld: core/framework/exception-server/CMakeFiles/ExceptionServer.dir/src/handler_manager.cpp.o: in function \`exception::ExceptionMsgHandler::ExceptionMsgHandler()&#39;:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[build] handler_manager.cpp:(.text._ZN9exception19ExceptionMsgHandlerC2Ev[_ZN9exception19ExceptionMsgHandlerC5Ev]+0x1f): undefined reference to \`vtable for exception::ExceptionMsgHandler&#39;</span></span></code></pre> <div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="原因分析" tabindex="-1">原因分析 <a class="header-anchor" href="#原因分析" aria-label="Permalink to &quot;原因分析&quot;">​</a></h2> <p>未定义的 MetricMsgHandler 类的虚函数表的引用，找不到 MetricMsgHandler 类的虚函数表:</p> <ol><li>找不到类 MetricMsgHandler;</li> <li>类 MetricMsgHandler 的有些虚函数(包括析构函数)未实现。</li></ol> <h2 id="解决方案" tabindex="-1">解决方案 <a class="header-anchor" href="#解决方案" aria-label="Permalink to &quot;解决方案&quot;">​</a></h2> <ol><li>类 MetricMsgHandler 是否在makefile搜索的路径内，Makefile或者CMakeLists.txt中是否包含类yyy的文件路径。</li> <li>类 MetricMsgHandler 是否实现了全部虚函数，检查本类，检查是否实现了父类的所有虚函数。</li></ol> <p>CMakeLists.txt 中包含路径拼写错误：</p> <div class="language-cmake vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cmake</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AUX_SOURCE_DIRECTORY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(src/topicHandle SRC_LIST)</span></span></code></pre> <div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>改为：</p> <div class="language-cmake vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cmake</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AUX_SOURCE_DIRECTORY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(src/topicHandler SRC_LIST)</span></span></code></pre> <div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,23)])])}const b=a(l,[["render",r]]);export{u as __pageData,b as default};
