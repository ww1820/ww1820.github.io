import{_ as i,o as a,c as t,ag as e}from"./chunks/framework.DEqXEGcv.js";const c=JSON.parse('{"title":"01 安装","description":"","frontmatter":{"tags":["tool","git"]},"headers":[],"relativePath":"5 工具/git简明指南.md","filePath":"5 工具/git简明指南.md","lastUpdated":1770953870000}'),n={name:"5 工具/git简明指南.md"};function l(h,s,p,r,d,k){return a(),t("div",null,[...s[0]||(s[0]=[e(`<p>参考资料：<a href="https://www.runoob.com/manual/git-guide/" target="_blank" rel="noreferrer">git简明指南</a></p> <h1 id="_01-安装" tabindex="-1">01 安装 <a class="header-anchor" href="#_01-安装" aria-label="Permalink to &quot;01 安装&quot;">​</a></h1> <h1 id="_02-仓库" tabindex="-1">02 仓库 <a class="header-anchor" href="#_02-仓库" aria-label="Permalink to &quot;02 仓库&quot;">​</a></h1> <p>在文件夹下运行<code>git int</code> 命令，创建新仓库；</p> <p>创建仓库的克隆版本：</p> <div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 本地仓库</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /path/to/repository</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 远端仓库</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> username@host:/path/to/repository</span></span></code></pre> <div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h1 id="_03-工作流" tabindex="-1">03 工作流 <a class="header-anchor" href="#_03-工作流" aria-label="Permalink to &quot;03 工作流&quot;">​</a></h1> <p><strong>本地仓库</strong>由git维护的三棵“树”组成：</p> <ol><li>工作目录（工作区）</li> <li>暂存区（Index/stage）：缓存区域，保存临时改动</li> <li>HEAD：指向最后一次提交的结果
<img src="https://blog-1312962011.cos.ap-nanjing.myqcloud.com/imgs/202305111854684.png" alt="本地仓库" loading="lazy"></li></ol> <p>使用<code>git status</code>命令查看文件状态（已修改未暂存，已暂存未提交）。</p> <p>commit之后暂存区的内容会被清空。</p> <h1 id="_04-添加和提交" tabindex="-1">04 添加和提交 <a class="header-anchor" href="#_04-添加和提交" aria-label="Permalink to &quot;04 添加和提交&quot;">​</a></h1> <p>使用<code>git add</code>命令将工作区的改动添加到暂存区；</p> <div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">filenam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # 指定文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            # 所有文件</span></span></code></pre> <div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>使用<code>git commit</code>命令将暂存区的改动提交到HEAD并清空暂存区；</p> <div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;message&quot;</span></span></code></pre> <div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h1 id="_05-推送改动" tabindex="-1">05 推送改动 <a class="header-anchor" href="#_05-推送改动" aria-label="Permalink to &quot;05 推送改动&quot;">​</a></h1> <p>执行<code>git push</code>命令将<strong>本地仓库</strong>提交的改动（HEAD）推送到<strong>远端</strong>仓库的某一分支；</p> <div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">branc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre> <div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果本地仓库没有关联远端仓库，使用如下命令添加远端仓库</p> <div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">serve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre> <div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h1 id="_06-分支" tabindex="-1">06 分支 <a class="header-anchor" href="#_06-分支" aria-label="Permalink to &quot;06 分支&quot;">​</a></h1> <p>分支是用来将特性开发绝缘开来的。创建仓库时，master 是“默认的”分支。<strong>在其他分支上进行开发，完成后再将它们合并到主分支上。</strong></p> <p><img src="https://blog-1312962011.cos.ap-nanjing.myqcloud.com/imgs/202305111902884.png" alt="分支" loading="lazy"></p> <p>常用命令：</p> <div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">branc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 创建并切换分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">branc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 切换分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">branc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # 删除分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">branc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 推送分支</span></span></code></pre> <div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>在分支推送到远端仓库前，<em>该分支不为他人所见</em>。</p> <h1 id="_07-更新与合并" tabindex="-1">07 更新与合并 <a class="header-anchor" href="#_07-更新与合并" aria-label="Permalink to &quot;07 更新与合并&quot;">​</a></h1> <p>使用<code>git pull</code> 将远端仓库的改动更新到本地仓库。</p> <p>更新远程追踪的分支并将<code>&lt;branch&gt;</code>合并到当前分支：</p> <div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fetch</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merge</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">branc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre> <div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>在这两种情况下，git会尝试自动合并改动，发生冲突时（conflicts）需要手动合并，合并成功之后使用<code>git add</code>将文件添加到暂存区标记为合并成功。</p> <p>在合并改动之前使用<code>git diff</code>命令预览差异，<code>git diff</code> 只能比较还在工作区的新旧文件，即add后就看不到了。</p> <div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> diff</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">source_branc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">target_branc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre> <div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h1 id="_08-标签" tabindex="-1">08 标签 <a class="header-anchor" href="#_08-标签" aria-label="Permalink to &quot;08 标签&quot;">​</a></h1> <p>推荐为软件发布创建标签，执行如下命令创建一个叫做 1.0.0 的标签：</p> <div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tag</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1.0.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1b2e1d63ff</span></span></code></pre> <div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>1b2e1d63ff 是要标记的提交 ID 的前 10 位字符。可以使用<code>git log</code>命令获取提交 ID。
可以使用少一点的提交 ID 前几位，只要它的指向具有<strong>唯一性</strong>。</p> <h1 id="_09-常用-git-操作" tabindex="-1">09 常用 git 操作 <a class="header-anchor" href="#_09-常用-git-操作" aria-label="Permalink to &quot;09 常用 git 操作&quot;">​</a></h1> <table tabindex="0"><thead><tr><th style="text-align:center;">功能</th> <th style="text-align:center;">命令</th></tr></thead> <tbody><tr><td style="text-align:center;">删除在本地有但在远程库中已经不存在的分支</td> <td style="text-align:center;"><code>git remote prune origin</code></td></tr> <tr><td style="text-align:center;"></td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;"></td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;"></td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;"></td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;"></td> <td style="text-align:center;"></td></tr></tbody></table>`,70)])])}const o=i(n,[["render",l]]);export{c as __pageData,o as default};
