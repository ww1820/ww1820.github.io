import{_ as a,o as n,c as e,ag as t}from"./chunks/framework.DEqXEGcv.js";const _=JSON.parse(`{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"5 工具/swig Fragment 'SWIG_AsVal_std_size_t' not found..md","filePath":"5 工具/swig Fragment 'SWIG_AsVal_std_size_t' not found..md","lastUpdated":1770949611000}`),i={name:"5 工具/swig Fragment 'SWIG_AsVal_std_size_t' not found..md"};function p(l,s,r,o,d,c){return n(),e("div",null,[...s[0]||(s[0]=[t(`<h3 id="问题描述" tabindex="-1">问题描述 <a class="header-anchor" href="#问题描述" aria-label="Permalink to &quot;问题描述&quot;">​</a></h3> <p>pair&lt;bool,size_t&gt;模板声明了，但是接口调用会报错cannot unpack non-iterable SwigPyObject object</p> <p><img src="https://blog-1312962011.cos.ap-nanjing.myqcloud.com/imgs/%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_17615554546936.png" alt="企业微信截图_17615554546936.png" loading="lazy"></p> <p><img src="https://blog-1312962011.cos.ap-nanjing.myqcloud.com/imgs/%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_17615554626131.png" alt="企业微信截图_17615554626131.png" loading="lazy"></p> <p><img src="https://blog-1312962011.cos.ap-nanjing.myqcloud.com/imgs/%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_17615555292624.png" alt="企业微信截图_17615555292624.png" loading="lazy"></p> <p>报错：cannot unpack non-iterable SwigPyObject object</p> <h3 id="解决思路" tabindex="-1">解决思路 <a class="header-anchor" href="#解决思路" aria-label="Permalink to &quot;解决思路&quot;">​</a></h3> <p>size_t 可能在不同的命名空间中有不同的定义，尝试模板实例化修改为</p> <div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>%template(BoolSizeTPair) std::pair&lt;bool, std::size_t&gt;;</span></span></code></pre> <div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>编译报错：</p> <div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>swig.i:221: Warning 490: Fragment &#39;SWIG_AsVal_std_size_t&#39; not found.</span></span>
<span class="line"><span>swig.i:221: Warning 490: Fragment &#39;SWIG_From_std_size_t&#39; not found.</span></span></code></pre> <div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>参考链接 1：<a href="https://github.com/swig/swig/issues/1712" target="_blank" rel="noreferrer">Missing definition for std::size_t when targeting Python? · Issue #1712 · swig/swig</a></p> <p><img src="https://blog-1312962011.cos.ap-nanjing.myqcloud.com/imgs/20251028101508.png" alt="image.png" loading="lazy"></p> <p>参考链接 2：<a href="https://devpress.csdn.net/python/63188edbfd0b11277915d378.html" target="_blank" rel="noreferrer">如何正确包装 std::vector<a href="std::size_t" target="_blank" rel="noreferrer">std::size_t</a> 与 Python 的 SWIG? std::size_t 的问题_python_Mangs-Python</a></p> <h3 id="解决方案" tabindex="-1">解决方案 <a class="header-anchor" href="#解决方案" aria-label="Permalink to &quot;解决方案&quot;">​</a></h3> <p>尝试如下所示为 swig 定义 size_t - <a href="http://www.swig.org/Doc1.3/SWIG.html#SWIG_nn20" target="_blank" rel="noreferrer">http://www.swig.org/Doc1.3/SWIG.html#SWIG_nn20</a></p> <div class="language-swig vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">swig</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>%inline %{</span></span>
<span class="line"><span>typedef long unsigned int size_t;</span></span>
<span class="line"><span>%}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>namespace std {</span></span>
<span class="line"><span>  %template(VecSize) vector&lt;size_t&gt;;</span></span>
<span class="line"><span>}</span></span></code></pre> <div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>`,31)])])}const m=a(i,[["render",p]]);export{_ as __pageData,m as default};
