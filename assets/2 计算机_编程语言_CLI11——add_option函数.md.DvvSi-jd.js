import{_ as s,o as t,c as a,ag as n}from"./chunks/framework.DEqXEGcv.js";const c=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"2 计算机/编程语言/CLI11——add_option函数.md","filePath":"2 计算机/编程语言/CLI11——add_option函数.md","lastUpdated":1770949611000}'),l={name:"2 计算机/编程语言/CLI11——add_option函数.md"};function e(o,i,p,d,r,h){return t(),a("div",null,[...i[0]||(i[0]=[n(`<p><code>CLI11</code> 是一个现代的 C++ 命令行解析库，提供了简洁的 API 来定义和解析命令行参数。</p> <p>在 <code>CLI11</code> 中， <code>add_option</code> 有两种常见的使用方式，它们的区别主要体现在参数的传递和返回值的处理上。以下是两种方式的对比：</p> <h3 id="方式-1-直接绑定变量" tabindex="-1"><strong>方式 1：直接绑定变量</strong> <a class="header-anchor" href="#方式-1-直接绑定变量" aria-label="Permalink to &quot;**方式 1：直接绑定变量**&quot;">​</a></h3> <p><strong>cpp</strong></p> <p>应用代码</p> <div class="language-cpp vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cli11.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add_option</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-o, --output&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, output, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Specify the output file&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre> <div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="特点" tabindex="-1"><strong>特点：</strong> <a class="header-anchor" href="#特点" aria-label="Permalink to &quot;**特点：**&quot;">​</a></h4> <ol><li><strong>直接绑定变量</strong>：
<ul><li><code>output</code> 是一个预先定义的变量（例如 <code>std::string output</code> ）， <code>CLI11</code> 会将用户输入的值直接存储到这个变量中。</li> <li>适用于单值选项（用户只能输入一个值）。</li></ul></li> <li><strong>返回值忽略</strong>：
<ul><li>这种调用方式通常不需要保存返回值，因为值会直接存储到绑定的变量中。</li></ul></li> <li><strong>简单易用</strong>：
<ul><li>适合简单的单值选项，代码更简洁。</li></ul></li></ol> <h4 id="适用场景" tabindex="-1"><strong>适用场景：</strong> <a class="header-anchor" href="#适用场景" aria-label="Permalink to &quot;**适用场景：**&quot;">​</a></h4> <ul><li>选项只需要一个值（如输出文件名 <code>-o</code> ）。</li> <li>不需要对选项值进行额外的处理或验证。</li></ul> <h3 id="方式-2-保存返回值并设置多值策略" tabindex="-1"><strong>方式 2：保存返回值并设置多值策略</strong> <a class="header-anchor" href="#方式-2-保存返回值并设置多值策略" aria-label="Permalink to &quot;**方式 2：保存返回值并设置多值策略**&quot;">​</a></h3> <p><strong>cpp</strong></p> <p>应用代码</p> <div class="language-cpp vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">linkDirsOpt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cli11.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add_option</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-L, --link-dir&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Specify one directory where to link modules&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">multi_option_policy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CLI</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MultiOptionPolicy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::TakeAll);</span></span></code></pre> <div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="特点-1" tabindex="-1"><strong>特点：</strong> <a class="header-anchor" href="#特点-1" aria-label="Permalink to &quot;**特点：**&quot;">​</a></h4> <ol><li><strong>保存返回值</strong>：
<ul><li><code>linkDirsOpt</code> 是一个 <code>CLI::Option*</code> 类型的指针，指向 <code>add_option</code> 返回的选项对象。</li> <li>通过返回值可以进一步配置选项的行为（如多值策略）。</li></ul></li> <li><strong>支持多值</strong>：
<ul><li>通过 <code>multi_option_policy(CLI::MultiOptionPolicy::TakeAll)</code> 设置多值策略，允许多次使用该选项（如 <code>-L dir1 -L dir2</code> ），并将所有值收集到一个列表中。</li> <li>适用于需要多个值的选项。</li></ul></li> <li><strong>灵活性高</strong>：
<ul><li>可以通过返回值对选项进行更复杂的配置（如验证、回调等）。</li></ul></li></ol> <h4 id="适用场景-1" tabindex="-1"><strong>适用场景：</strong> <a class="header-anchor" href="#适用场景-1" aria-label="Permalink to &quot;**适用场景：**&quot;">​</a></h4> <ul><li>选项需要支持多个值（如链接目录 <code>-L</code> ）。</li> <li>需要对选项值进行额外的处理或验证。</li></ul> <h3 id="总结对比" tabindex="-1"><strong>总结对比</strong> <a class="header-anchor" href="#总结对比" aria-label="Permalink to &quot;**总结对比**&quot;">​</a></h3> <table tabindex="0"><thead><tr><th><strong>特性</strong></th> <th><strong>方式 1：直接绑定变量</strong></th> <th><strong>方式 2：保存返回值并设置多值策略</strong></th></tr></thead> <tbody><tr><td><strong>绑定变量</strong></td> <td>直接绑定到预先定义的变量（如 <code>output</code> ）。</td> <td>不直接绑定变量，通过返回值操作选项对象。</td></tr> <tr><td><strong>多值支持</strong></td> <td>仅支持单值。</td> <td>支持多值（通过 <code>multi_option_policy</code> 配置）。</td></tr> <tr><td><strong>返回值处理</strong></td> <td>通常忽略返回值。</td> <td>保存返回值（ <code>CLI::Option*</code> ），用于进一步配置。</td></tr> <tr><td><strong>适用场景</strong></td> <td>简单的单值选项（如 <code>-o</code> ）。</td> <td>复杂的多值选项或需要额外配置的选项（如 <code>-L</code> ）。</td></tr></tbody></table> <h3 id="示例说明" tabindex="-1"><strong>示例说明</strong> <a class="header-anchor" href="#示例说明" aria-label="Permalink to &quot;**示例说明**&quot;">​</a></h3> <h4 id="方式-1-的典型用法" tabindex="-1"><strong>方式 1 的典型用法</strong> <a class="header-anchor" href="#方式-1-的典型用法" aria-label="Permalink to &quot;**方式 1 的典型用法**&quot;">​</a></h4> <p><strong>cpp</strong></p> <p>应用代码</p> <div class="language-cpp vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::string output;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cli11.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add_option</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-o, --output&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, output, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Specify the output file&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre> <div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>用户输入 <code>-o file.txt</code> 后， <code>output</code> 的值会被设置为 <code>&quot;file.txt&quot;</code> 。</li></ul> <h4 id="方式-2-的典型用法" tabindex="-1"><strong>方式 2 的典型用法</strong> <a class="header-anchor" href="#方式-2-的典型用法" aria-label="Permalink to &quot;**方式 2 的典型用法**&quot;">​</a></h4> <p><strong>cpp</strong></p> <p>应用代码</p> <div class="language-cpp vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CLI</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::Option</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> linkDirsOpt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">linkDirsOpt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cli11.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add_option</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-L, --link-dir&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Specify one directory where to link modules&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">multi_option_policy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CLI</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MultiOptionPolicy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::TakeAll);</span></span></code></pre> <div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>用户输入 <code>-L dir1 -L dir2</code> 后， <code>linkDirsOpt</code> 会收集所有值（ <code>{&quot;dir1&quot;, &quot;dir2&quot;}</code> ）。</li></ul> <h3 id="选择建议" tabindex="-1"><strong>选择建议</strong> <a class="header-anchor" href="#选择建议" aria-label="Permalink to &quot;**选择建议**&quot;">​</a></h3> <ul><li>如果选项只需要一个值且不需要额外配置，使用 <strong>方式 1</strong>（直接绑定变量）。</li> <li>如果选项需要支持多个值或需要进一步配置，使用 <strong>方式 2</strong>（保存返回值并设置多值策略）。</li></ul>`,61)])])}const g=s(l,[["render",e]]);export{c as __pageData,g as default};
